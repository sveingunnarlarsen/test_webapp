(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{89752:(e,t,a)=>{Promise.resolve().then(a.bind(a,86580))},86580:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(95155),r=a(25739),n=a(10058),i=a(1466);let l=(0,a(67401).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var o=a(14085),d=a(12115),c=a(54223),u=a(40767),f=a(29602);let m=c.bL;c.l9;let p=c.ZL;c.bm;let g=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.hJ,{ref:t,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});g.displayName=c.hJ.displayName;let h=d.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(p,{children:[(0,s.jsx)(g,{}),(0,s.jsxs)(c.UC,{ref:t,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=c.UC.displayName;let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let v=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};v.displayName="DialogFooter";let b=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.hE,{ref:t,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});function y(e){let{image:t,userId:a}=e,[n,c]=(0,d.useState)(!1),[u,f]=(0,d.useState)(null),[p,g]=(0,d.useState)(null),y=async()=>{u&&(await (0,r.I)(u,a),c(!1),f(null),g(null))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"p-2 size-16 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors",onClick:()=>c(!0),children:t?(0,s.jsx)("img",{src:t,alt:"Profile picture",className:"size-full rounded-full object-cover"}):(0,s.jsx)(i.A,{className:"size-full"})}),(0,s.jsx)(m,{open:n,onOpenChange:c,children:(0,s.jsxs)(h,{children:[(0,s.jsx)(x,{children:(0,s.jsx)(b,{children:"Upload Profile Picture"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,s.jsx)("div",{className:"size-32 rounded-full bg-gray-200 overflow-hidden",children:p?(0,s.jsx)("img",{src:p,alt:"Preview",className:"w-full h-full object-cover"}):t?(0,s.jsx)("img",{src:t,alt:"Current profile picture",className:"w-full h-full object-cover"}):(0,s.jsx)(i.A,{className:"size-full p-6"})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("label",{className:"cursor-pointer",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(f(a),g(URL.createObjectURL(a)))}}),(0,s.jsxs)(o.$,{className:"pointer-events-none",children:[(0,s.jsx)(l,{className:"size-4"}),"Choose Image"]})]})})]}),(0,s.jsxs)(v,{children:[(0,s.jsx)(o.$,{variant:"ghost",onClick:()=>{c(!1),f(null),g(null)},children:"Cancel"}),(0,s.jsx)(o.$,{onClick:y,disabled:!u,children:"Confirm"})]})]})})]})}function j(){let{data:e,error:t,isLoading:a}=(0,r.o)();if(a)return(0,s.jsx)("div",{children:"Loading..."});if(t)return(0,s.jsxs)("div",{children:["Error: ",t.message]});if(!e)return(0,s.jsx)("div",{children:"No data"});let{data:i,success:l,error:o}=n.y.safeParse(e);return l?(0,s.jsxs)("div",{className:"size-full flex flex-col gap-20",children:[(0,s.jsxs)("p",{className:"text-xl",children:[(0,s.jsx)("span",{className:"text-foreground-light",children:i.translation.profileGreeting1})," ",(0,s.jsx)("span",{children:i.translation.profileGreeting2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl mb-6",children:"Your Profile"}),(0,s.jsx)("div",{className:"border rounded-2xl flex flex-col gap-5 py-6",children:(0,s.jsx)("div",{className:"px-8 flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)(y,{image:i.profile.image,userId:i.profile.id}),i.profile.firstName," ",i.profile.lastName]})})})]})]}):(console.log(o),(0,s.jsx)("div",{children:"Invalid data"}))}b.displayName=c.hE.displayName,d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.VY,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",a),...r})}).displayName=c.VY.displayName},14085:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var s=a(95155),r=a(12115),n=a(12317),i=a(31027),l=a(29602);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-full px-3 text-xs",lg:"h-10 rounded-full px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},25739:(e,t,a)=>{"use strict";a.d(t,{I:()=>f,o:()=>u});var s=a(4536),r=a(89398),n=a(95714).Buffer;let i="ole-andre.haugen@neptune-software.com",l="Nep2024!",o=new Headers;i&&l&&o.set("Authorization","Basic "+btoa(i+":"+l));let d=new Headers(o);d.set("Content-Type","application/json");let c=async e=>{let t=await fetch(e,{headers:o});return await t.json()};function u(){return(0,s.Ay)("/api/serverscript/phenoClient/masterdata",c)}async function f(e,t){let a=await e.arrayBuffer(),s=n.from(a),i="data:image/".concat(e.type,";base64,").concat(s.toString("base64"));await fetch("/api/serverscript/phenoClient/profile-save?id=".concat(t),{method:"POST",headers:d,body:JSON.stringify({image:i})}),(0,r.k)("/api/serverscript/phenoClient/masterdata")}},10058:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});var s=a(43415);let r=s.z.object({date:s.z.string().date(),value:s.z.number().min(0).max(100)}),n=s.z.object({profile:s.z.object({id:s.z.string(),firstName:s.z.string(),lastName:s.z.string(),image:s.z.string().nullable()}),phenoScores:r.array(),healthScores:r.array(),mentalScores:r.array(),activityScores:r.array(),sleepScores:r.array(),translation:s.z.object({dashboardGreeting1:s.z.string(),dashboardGreeting2:s.z.string(),dashboardGreeting3:s.z.string(),profileGreeting1:s.z.string(),profileGreeting2:s.z.string(),menuDashboard:s.z.string(),menuPhysical:s.z.string(),menuMental:s.z.string(),menuRecommendations:s.z.string()})})},29602:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(43463),r=a(69795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[361,291,828,441,517,358],()=>t(89752)),_N_E=e.O()}]);